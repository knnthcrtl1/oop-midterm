{"ast":null,"code":"import _toConsumableArray from\"/Users/sveningenuityinc./Desktop/oop-midterm/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/sveningenuityinc./Desktop/oop-midterm/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useState}from\"react\";import{addOns,teaList,teaSizes}from\"./list\";import\"./milktea.css\";import OrderItem from\"./OrderItem\";import{useNavigate}from\"react-router-dom\";import{AppContext}from\"../../engine/global/reducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MilkTeas(){var navigate=useNavigate();var _useContext=useContext(AppContext),setData=_useContext.setData,data=_useContext.data;var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedTea=_useState2[0],setSelectedTea=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),selectedSize=_useState4[0],setSize=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),addOn=_useState6[0],setAddOns=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),orderList=_useState8[0],setOrderList=_useState8[1];var _useState9=useState(teaList),_useState10=_slicedToArray(_useState9,2),list=_useState10[0],setList=_useState10[1];var newOrders=[];var handleOrderItem=function handleOrderItem(e){setSelectedTea(e.target.value);};var handleSetSize=function handleSetSize(id){console.log(id,selectedSize);if(id===selectedSize){setSize(\"\");return false;}setSize(id);};var handleAddOns=function handleAddOns(id){if(id===addOn){setAddOns(\"\");return false;}setAddOns(id);};var handleAddToCart=function handleAddToCart(){if(!selectedSize){alert(\"please select tea size\");return false;}var orderObj={id:Date.now(),tea:selectedTea,size:selectedSize,addOn:addOn};setOrderList([].concat(_toConsumableArray(orderList),[orderObj]));console.log(orderList);clearFields();// console.log(\"tea list =>\", newOrders);\n};var clearFields=function clearFields(){setSelectedTea(\"\");setSize(\"\");setAddOns(\"\");};var handleRemoveItem=function handleRemoveItem(id){var orders=orderList.filter(function(item){return item.id!==id;});setOrderList(orders);};var handleCheckOut=function handleCheckOut(){setData(orderList);console.log(\"data =>\",data);navigate(\"/checkout\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"list__item\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Menus\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:handleOrderItem,children:[/*#__PURE__*/_jsx(\"option\",{}),list.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item===null||item===void 0?void 0:item.id,children:item===null||item===void 0?void 0:item.name},item===null||item===void 0?void 0:item.id);})]}),selectedTea&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tea__sizes\",children:[\"Sizes:\",\" \",teaSizes.map(function(size){return/*#__PURE__*/_jsx(\"p\",{style:{backgroundColor:(size===null||size===void 0?void 0:size.id)===selectedSize?\"red\":\"transparent\"},onClick:function onClick(){return handleSetSize(size===null||size===void 0?void 0:size.id);},children:size.name},size===null||size===void 0?void 0:size.id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tea__sizes\",children:[\"Sizes:\",\" \",addOns.map(function(add){return/*#__PURE__*/_jsx(\"p\",{style:{backgroundColor:(add===null||add===void 0?void 0:add.id)===addOn?\"red\":\"transparent\"},onClick:function onClick(){return handleAddOns(add===null||add===void 0?void 0:add.id);},children:add.name},add===null||add===void 0?void 0:add.id);})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,children:\"Add to cart\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"ORDERS: \",orderList===null||orderList===void 0?void 0:orderList.length]}),/*#__PURE__*/_jsxs(\"div\",{children:[orderList.map(function(item){return/*#__PURE__*/_jsx(OrderItem,{item:item,handleRemoveItem:handleRemoveItem},item===null||item===void 0?void 0:item.id);}),orderList.length!==0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleCheckOut,children:\"Checkout\"})]})]})]});}export default MilkTeas;","map":{"version":3,"names":["useContext","useState","addOns","teaList","teaSizes","OrderItem","useNavigate","AppContext","MilkTeas","navigate","setData","data","selectedTea","setSelectedTea","selectedSize","setSize","addOn","setAddOns","orderList","setOrderList","list","setList","newOrders","handleOrderItem","e","target","value","handleSetSize","id","console","log","handleAddOns","handleAddToCart","alert","orderObj","Date","now","tea","size","clearFields","handleRemoveItem","orders","filter","item","handleCheckOut","map","name","backgroundColor","add","length"],"sources":["/Users/sveningenuityinc./Desktop/oop-midterm/src/pages/milktea/MilkTeas.tsx"],"sourcesContent":["import { useContext, useState } from \"react\";\nimport { addOns, teaList, teaSizes } from \"./list\";\nimport \"./milktea.css\";\nimport OrderItem from \"./OrderItem\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AppContext } from \"../../engine/global/reducer\";\n\nfunction MilkTeas() {\n  let navigate = useNavigate();\n\n  const { setData, data } = useContext(AppContext);\n\n  const [selectedTea, setSelectedTea] = useState<any>();\n  const [selectedSize, setSize] = useState<any>();\n  const [addOn, setAddOns] = useState<any>();\n  const [orderList, setOrderList] = useState<any[]>([]);\n  const [list, setList] = useState<any[]>(teaList);\n\n  let newOrders: any = [];\n\n  const handleOrderItem = (e: any) => {\n    setSelectedTea(e.target.value);\n  };\n\n  const handleSetSize = (id: string) => {\n    console.log(id, selectedSize);\n    if (id === selectedSize) {\n      setSize(\"\");\n      return false;\n    }\n    setSize(id);\n  };\n\n  const handleAddOns = (id: string) => {\n    if (id === addOn) {\n      setAddOns(\"\");\n      return false;\n    }\n    setAddOns(id);\n  };\n\n  const handleAddToCart = () => {\n    if (!selectedSize) {\n      alert(\"please select tea size\");\n      return false;\n    }\n\n    let orderObj = {\n      id: Date.now(),\n      tea: selectedTea,\n      size: selectedSize,\n      addOn,\n    };\n\n    setOrderList([...orderList, orderObj]);\n\n    console.log(orderList);\n    clearFields();\n\n    // console.log(\"tea list =>\", newOrders);\n  };\n\n  const clearFields = () => {\n    setSelectedTea(\"\");\n    setSize(\"\");\n    setAddOns(\"\");\n  };\n\n  const handleRemoveItem = (id: string) => {\n    let orders = orderList.filter((item) => item.id !== id);\n\n    setOrderList(orders);\n  };\n\n  const handleCheckOut = () => {\n    setData(orderList);\n\n    console.log(\"data =>\", data);\n    navigate(\"/checkout\");\n  };\n\n  return (\n    <div className=\"list__item\">\n      <div>\n        <p>Menus</p>\n        <select onChange={handleOrderItem}>\n          <option></option>\n          {list.map((item) => (\n            <option value={item?.id} key={item?.id}>\n              {item?.name}\n            </option>\n          ))}\n        </select>\n        {selectedTea && (\n          <>\n            <div className=\"tea__sizes\">\n              Sizes:{\" \"}\n              {teaSizes.map((size) => (\n                <p\n                  style={{\n                    backgroundColor:\n                      size?.id === selectedSize ? \"red\" : \"transparent\",\n                  }}\n                  key={size?.id}\n                  onClick={() => handleSetSize(size?.id)}\n                >\n                  {size.name}\n                </p>\n              ))}\n            </div>\n            <div className=\"tea__sizes\">\n              Sizes:{\" \"}\n              {addOns.map((add: any) => (\n                <p\n                  style={{\n                    backgroundColor: add?.id === addOn ? \"red\" : \"transparent\",\n                  }}\n                  key={add?.id}\n                  onClick={() => handleAddOns(add?.id)}\n                >\n                  {add.name}\n                </p>\n              ))}\n            </div>\n\n            <button onClick={handleAddToCart}>Add to cart</button>\n          </>\n        )}\n      </div>\n      <div>\n        <div>ORDERS: {orderList?.length}</div>\n        <div>\n          {orderList.map((item: any) => (\n            <OrderItem\n              key={item?.id}\n              item={item}\n              handleRemoveItem={handleRemoveItem}\n            />\n          ))}\n          {orderList.length !== 0 && (\n            <button onClick={handleCheckOut}>Checkout</button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MilkTeas;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}