{"ast":null,"code":"import React,{useContext,useRef}from\"react\";import{AppContext}from\"../../engine/global/reducer\";import{formatPrice,formatTea,formatTeaPrice,formatTotalPrice}from\"../../utils/milktea\";import\"./checkout.css\";import{useReactToPrint}from\"react-to-print\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ComponentToPrint=/*#__PURE__*/React.forwardRef(function(props,ref){console.log(props,ref);var _useContext=useContext(AppContext),data=_useContext.data;return/*#__PURE__*/_jsxs(\"div\",{className:\"checkout__page\",ref:ref,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"checkout__page--title\",children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:7,textAlign:\"left\"},children:\"Orders\"}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,textAlign:\"right\"},children:\"Quantity\"}),/*#__PURE__*/_jsx(\"div\",{style:{flex:3,textAlign:\"right\"},children:\"Price\"})]}),data.length!==0&&data.map(function(val){return/*#__PURE__*/_jsxs(\"div\",{className:\"checkout__page--content\",children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:7,textAlign:\"left\"},children:/*#__PURE__*/_jsx(\"p\",{children:formatTea(val)})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,textAlign:\"right\"},children:\"1\"}),/*#__PURE__*/_jsx(\"div\",{style:{flex:3,textAlign:\"right\"},children:formatPrice(formatTeaPrice(val))})]},val===null||val===void 0?void 0:val.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout__page--total\",children:[\"TOTAL: \",formatTotalPrice(data&&data)]})]});});var Checkout=function Checkout(){var componentRef=useRef(null);var handlePrint=useReactToPrint({content:function content(){return componentRef===null||componentRef===void 0?void 0:componentRef.current;}});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ComponentToPrint,{ref:componentRef}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePrint,children:\"Print this out!\"})]});};export default Checkout;","map":{"version":3,"names":["React","useContext","useRef","AppContext","formatPrice","formatTea","formatTeaPrice","formatTotalPrice","useReactToPrint","ComponentToPrint","forwardRef","props","ref","console","log","data","flex","textAlign","length","map","val","id","Checkout","componentRef","handlePrint","content","current"],"sources":["/Users/sveningenuityinc./Desktop/oop-midterm/src/pages/checkout/Checkout.tsx"],"sourcesContent":["import React, { useContext, useRef } from \"react\";\nimport { AppContext } from \"../../engine/global/reducer\";\nimport {\n  formatPrice,\n  formatTea,\n  formatTeaPrice,\n  formatTotalPrice,\n} from \"../../utils/milktea\";\nimport \"./checkout.css\";\nimport { useReactToPrint } from \"react-to-print\";\n\nconst ComponentToPrint = React.forwardRef((props, ref: any) => {\n  console.log(props, ref);\n  const { data } = useContext(AppContext);\n\n  return (\n    <div className=\"checkout__page\" ref={ref}>\n      <div className=\"checkout__page--title\">\n        <div style={{ flex: 7, textAlign: \"left\" }}>Orders</div>\n        <div style={{ flex: 1, textAlign: \"right\" }}>Quantity</div>\n        <div style={{ flex: 3, textAlign: \"right\" }}>Price</div>\n      </div>\n      {data.length !== 0 &&\n        data.map((val: any) => (\n          <div className=\"checkout__page--content\" key={val?.id}>\n            <div style={{ flex: 7, textAlign: \"left\" }}>\n              <p>{formatTea(val)}</p>\n            </div>\n            <div style={{ flex: 1, textAlign: \"right\" }}>1</div>\n            <div style={{ flex: 3, textAlign: \"right\" }}>\n              {formatPrice(formatTeaPrice(val))}\n            </div>\n          </div>\n        ))}\n      <div className=\"checkout__page--total\">\n        TOTAL: {formatTotalPrice(data && data)}\n      </div>\n    </div>\n  );\n});\n\nconst Checkout = () => {\n  const componentRef = useRef(null);\n  const handlePrint = useReactToPrint({\n    content: () => componentRef?.current,\n  });\n\n  return (\n    <div>\n      <ComponentToPrint ref={componentRef} />\n      <button onClick={handlePrint}>Print this out!</button>\n    </div>\n  );\n};\n\nexport default Checkout;\n"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,MAA5B,KAA0C,OAA1C,CACA,OAASC,UAAT,KAA2B,6BAA3B,CACA,OACEC,WADF,CAEEC,SAFF,CAGEC,cAHF,CAIEC,gBAJF,KAKO,qBALP,CAMA,MAAO,gBAAP,CACA,OAASC,eAAT,KAAgC,gBAAhC,C,wFAEA,GAAMC,CAAAA,gBAAgB,cAAGT,KAAK,CAACU,UAAN,CAAiB,SAACC,KAAD,CAAQC,GAAR,CAAqB,CAC7DC,OAAO,CAACC,GAAR,CAAYH,KAAZ,CAAmBC,GAAnB,EACA,gBAAiBX,UAAU,CAACE,UAAD,CAA3B,CAAQY,IAAR,aAAQA,IAAR,CAEA,mBACE,aAAK,SAAS,CAAC,gBAAf,CAAgC,GAAG,CAAEH,GAArC,wBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,YAAK,KAAK,CAAE,CAAEI,IAAI,CAAE,CAAR,CAAWC,SAAS,CAAE,MAAtB,CAAZ,oBADF,cAEE,YAAK,KAAK,CAAE,CAAED,IAAI,CAAE,CAAR,CAAWC,SAAS,CAAE,OAAtB,CAAZ,sBAFF,cAGE,YAAK,KAAK,CAAE,CAAED,IAAI,CAAE,CAAR,CAAWC,SAAS,CAAE,OAAtB,CAAZ,mBAHF,GADF,CAMGF,IAAI,CAACG,MAAL,GAAgB,CAAhB,EACCH,IAAI,CAACI,GAAL,CAAS,SAACC,GAAD,qBACP,aAAK,SAAS,CAAC,yBAAf,wBACE,YAAK,KAAK,CAAE,CAAEJ,IAAI,CAAE,CAAR,CAAWC,SAAS,CAAE,MAAtB,CAAZ,uBACE,mBAAIZ,SAAS,CAACe,GAAD,CAAb,EADF,EADF,cAIE,YAAK,KAAK,CAAE,CAAEJ,IAAI,CAAE,CAAR,CAAWC,SAAS,CAAE,OAAtB,CAAZ,eAJF,cAKE,YAAK,KAAK,CAAE,CAAED,IAAI,CAAE,CAAR,CAAWC,SAAS,CAAE,OAAtB,CAAZ,UACGb,WAAW,CAACE,cAAc,CAACc,GAAD,CAAf,CADd,EALF,GAA8CA,GAA9C,SAA8CA,GAA9C,iBAA8CA,GAAG,CAAEC,EAAnD,CADO,EAAT,CAPJ,cAkBE,aAAK,SAAS,CAAC,uBAAf,qBACUd,gBAAgB,CAACQ,IAAI,EAAIA,IAAT,CAD1B,GAlBF,GADF,CAwBD,CA5BwB,CAAzB,CA8BA,GAAMO,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMC,CAAAA,YAAY,CAAGrB,MAAM,CAAC,IAAD,CAA3B,CACA,GAAMsB,CAAAA,WAAW,CAAGhB,eAAe,CAAC,CAClCiB,OAAO,CAAE,yBAAMF,CAAAA,YAAN,SAAMA,YAAN,iBAAMA,YAAY,CAAEG,OAApB,EADyB,CAAD,CAAnC,CAIA,mBACE,oCACE,KAAC,gBAAD,EAAkB,GAAG,CAAEH,YAAvB,EADF,cAEE,eAAQ,OAAO,CAAEC,WAAjB,6BAFF,GADF,CAMD,CAZD,CAcA,cAAeF,CAAAA,QAAf"},"metadata":{},"sourceType":"module"}